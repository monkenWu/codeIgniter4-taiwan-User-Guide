

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-TW" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-TW" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>查詢生成器類別 &mdash; CodeIgniter4 4.1.5 說明文件</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/js/citheme.js"></script>
        <script type="text/javascript" src="../_static/js/carbon.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜尋" href="../search.html" />
    <link rel="next" title="交易" href="transactions.html" />
    <link rel="prev" title="查詢輔助函數" href="helpers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #DD4814" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/ci-logo-text.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">歡迎加入 CodeIgniter4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html">歡迎加入 CodeIgniter4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/requirements.html">系統需求</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/credits.html">貢獻</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/psr.html">PSR 規範</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">安裝指引</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_composer.html">Composer 安裝</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_manual.html">手動安裝</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/running.html">運作你的應用程式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">從舊版升級</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/repositories.html">CodeIgniter 儲存庫</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">建構第一個應用程式</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">靜態頁面</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">新聞頁面</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">建立新聞</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">結論</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">CodeIgniter4 概觀</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/structure.html">應用程式結構</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/mvc.html">模型、視圖與控制器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/autoloader.html">自動載入檔案</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/services.html">服務（services）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/factories.html">工廠模式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/http.html">處裡 HTTP 請求</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/security.html">安全指南</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">一般主題</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/configuration.html">組態設定檔案</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">CodeIgniter URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">輔助函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">全域函數與常數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/logging.html">記錄日誌資訊</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">錯誤處理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">網頁快取</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ajax.html">AJAX 請求</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/modules.html">程式碼模組</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">管理你的應用程式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">處理多種環境</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../incoming/index.html">控制器與路由</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../incoming/controllers.html">控制器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/routing.html">URI Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/filters.html">Controller Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/message.html">HTTP Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/request.html">Request 類別</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/incomingrequest.html">IncomingRequest Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/content_negotiation.html">內容協商</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/methodspoofing.html">HTTP 類型偽裝</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/restful.html">處理 RESTful 請求資源</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../outgoing/index.html">建構響應</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/views.html">視圖</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_cells.html">視圖單元</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_renderer.html">視圖渲染</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_layouts.html">視圖布局</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_parser.html">視圖解釋器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/table.html">HTML 表格類別</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/response.html">HTTP 響應</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/api_responses.html">API 響應特性</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/localization.html">本土化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/alternative_php.html">用於視圖檔案的 PHP 語法</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">資料庫操作</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples.html">快速入門: 範例程式</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">資料庫組態設定</a></li>
<li class="toctree-l2"><a class="reference internal" href="connecting.html">連接你的資料庫</a></li>
<li class="toctree-l2"><a class="reference internal" href="queries.html">執行查詢</a></li>
<li class="toctree-l2"><a class="reference internal" href="results.html">產生查詢結果</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers.html">查詢輔助函數</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">查詢生成器類別</a></li>
<li class="toctree-l2"><a class="reference internal" href="transactions.html">交易</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">詮釋資料</a></li>
<li class="toctree-l2"><a class="reference internal" href="call_function.html">自訂函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html">資料庫事件</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">資料庫工具</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">資料模型化</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../models/model.html">使用 CodeIgniter 的模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models/entities.html">使用實體類別</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dbmgmt/index.html">資料庫管理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/forge.html">資料庫操控與資料庫建構</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/migration.html">資料庫遷移</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/seeds.html">資料庫填充</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">程式庫參考</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../libraries/caching.html">Caching Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cookies.html">Cookies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/curlrequest.html">CURLRequest Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/email.html">Email Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encryption.html">加密服務</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/files.html">Working with Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/files.html#file-collections">File Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/honeypot.html">誘捕系統類別</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/images.html">Image Manipulation Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/pagination.html">Pagination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/publisher.html">Publisher</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/security.html">安全性類別</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/sessions.html">Session Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/throttler.html">Throttler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/time.html">Times and Dates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/typography.html">Typography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uploaded_files.html">Working with Uploaded Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html">Working with URIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/user_agent.html">User Agent Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/validation.html">Validation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">輔助函數</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">陣列輔助函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie 輔助函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">日期輔助函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/filesystem_helper.html">檔案系統輔助函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">表單輔助函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Inflector 輔助函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Number 輔助函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">安全性輔助函數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/test_helper.html">Test Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Text Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">URL Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">XML 輔助函數</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">測試</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../testing/overview.html">入門</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/database.html">資料庫測試</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/fabricator.html">Generating Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/controllers.html">控制器測試</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/feature.html">HTTP 特性測試</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/response.html">Testing Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/benchmark.html">基準測試</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/debugging.html">偵錯與除錯應用程式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/mocking.html">Mocking</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">使用命令列介面</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli.html">透過命命列運作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_commands.html">自訂命令列介面指令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_generators.html">CLI Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_library.html">命令列程式庫</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_request.html">CLI 請求類別</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../extending/index.html">擴充 CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../extending/core_classes.html">建立核心系統類別</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/common.html">替換常用功能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/events.html">事件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/basecontroller.html">擴充控制器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/authentication.html">認證方式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/contributing.html">為 CodeIgniter 貢獻</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translation/index.html">CodeIgniter4 文件翻譯</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../translation/glossary.html">詞彙對照表</a></li>
<li class="toctree-l2"><a class="reference internal" href="../translation/members.html">翻譯貢獻者</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CodeIgniter4</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">資料庫操作</a> &raquo;</li>
        
      <li>查詢生成器類別</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>查詢生成器類別<a class="headerlink" href="#id1" title="本標題的永久連結">¶</a></h1>
<p>你可以在 CodeIgniter 中使用查詢生成器類別。
這個模式可以讓你用少量的程式碼就完成資料檢索、新增和更新。
在某些範例下，只需要一兩行程式碼就能操作資料庫。
CodeIgniter 並沒有要求每個資料表都要有自己的類別檔。
這代表著它能提供更簡單的介面。</p>
<p>除了簡單之外，查詢生成器的另一個特色是建立獨立於資料庫的應用程式，因為查詢語法是由每個獨立的資料庫適配器所產生。
此外，因為系統會自動跳脫字元，這使你的查詢更安全。</p>
<div class="contents local topic" id="id2">
<ul class="simple">
<li><a class="reference internal" href="#id3" id="id16">載入查詢生成器</a></li>
<li><a class="reference internal" href="#id4" id="id17">選取資料</a></li>
<li><a class="reference internal" href="#id5" id="id18">尋找特定的資料</a></li>
<li><a class="reference internal" href="#id6" id="id19">尋找相似的資料</a></li>
<li><a class="reference internal" href="#id7" id="id20">排序查詢結果</a></li>
<li><a class="reference internal" href="#id8" id="id21">限制或計算查詢結果</a></li>
<li><a class="reference internal" href="#id9" id="id22">查詢分組</a></li>
<li><a class="reference internal" href="#id10" id="id23">插入資料</a></li>
<li><a class="reference internal" href="#id11" id="id24">更新資料</a></li>
<li><a class="reference internal" href="#id12" id="id25">刪除資料</a></li>
<li><a class="reference internal" href="#id13" id="id26">鏈式方法</a></li>
<li><a class="reference internal" href="#ar-caching" id="id27">重置查詢生成器</a></li>
<li><a class="reference internal" href="#id15" id="id28">類別參考</a></li>
</ul>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id16">載入查詢生成器</a><a class="headerlink" href="#id3" title="本標題的永久連結">¶</a></h2>
<p>查詢生成器是由資料庫連接的  <code class="docutils literal notranslate"><span class="pre">table()</span></code> 這個方法所載入。
這是讓你設定查詢的 <code class="docutils literal notranslate"><span class="pre">FROM</span></code> ，並且回傳一個新的查詢生成器類別實體。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$db</span>      <span class="o">=</span> <span class="nx">\Config\Database</span><span class="o">::</span><span class="na">connect</span><span class="p">();</span>
<span class="nv">$builder</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">table</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">);</span><span class="nx">。</span>
</pre></div>
</div>
<p>查詢生成器只有在你明確指定下，才會將請求載入到記憶體。因此預設情形下，不會有資源被使用。</p>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id17">選取資料</a><a class="headerlink" href="#id4" title="本標題的永久連結">¶</a></h2>
<p>接下來的的函數將介紹如何使用 <strong>SELECT</strong> SQL語法。</p>
<p><strong>$builder-&gt;get()</strong></p>
<p>執行選取查詢並回傳結果。用來檢索所有資料表的資料。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">);</span>
<span class="nv">$query</span>   <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>  <span class="c1">// Produces: SELECT * FROM mytable</span>
</pre></div>
</div>
<p>第一個是限制筆數(limit)，第二個參數是忽略筆數(offset)。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>

<span class="c1">// 執行: SELECT * FROM mytable LIMIT 20, 10</span>
<span class="c1">// (以上是MySQL的語法，這會與其他資料庫的語法有些許不同。)</span>
</pre></div>
</div>
<p>以上的函數都被指定到 $query 這個變數中，如果要顯示這些結果，你可以使用以下方式：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">getResult</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$row</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="na">title</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>請參考 <a class="reference internal" href="results.html"><span class="doc">產生查詢結果</span></a> 來了解關於產生結果的完整內容。</p>
<p><strong>$builder-&gt;getCompiledSelect()</strong></p>
<p>編譯選取查詢就像是 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;get()</span></code> 的方法一樣，但實際上並不會 <em>執行</em> 查詢。
這個方法只是簡單的回傳字串格式的SQL查詢語法。</p>
<p>範例</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$sql</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">getCompiledSelect</span><span class="p">();</span>
<span class="k">echo</span> <span class="nv">$sql</span><span class="p">;</span>

<span class="c1">// 輸出字串：SELECT * FROM mytable</span>
</pre></div>
</div>
<p>第一個參數是設定是否重置查詢生成器的查詢。(預設是會重置，就像使用 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;get()</span></code> )</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getCompiledSelect</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>

<span class="c1">// 輸出字串: SELECT * FROM mytable LIMIT 20, 10</span>
<span class="c1">// (以上是MySQL的語法，這會與其他資料庫的語法有些許不同。)</span>

<span class="k">echo</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;title, content, date&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getCompiledSelect</span><span class="p">();</span>

<span class="c1">// 輸出字串: SELECT title, content, date FROM mytable LIMIT 20, 10</span>
</pre></div>
</div>
<p>上述的範例要注意的關鍵是，第二次的查詢並沒有使用 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;from()</span></code> ，也沒有傳送資料表名稱。
這是因為查詢並沒有使用 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;get()</span></code> 來執行，這是重置值或直接使用 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;resetQuery()</span></code> 來進行重置。</p>
<p><strong>$builder-&gt;getWhere()</strong></p>
<p>與 <code class="docutils literal notranslate"><span class="pre">get()</span></code> 函數相同，只是它能在第一個參數中加入 「where」  語法。而不是使用 db-&gt;where() 這個函數。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">getWhere</span><span class="p">([</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="nv">$id</span><span class="p">],</span> <span class="nv">$limit</span><span class="p">,</span> <span class="nv">$offset</span><span class="p">);</span>
</pre></div>
</div>
<p>請參考以下內容來得到更多關於 <cite>where</cite> 函數的使用方式。</p>
<p><strong>$builder-&gt;select()</strong></p>
<p>在你的查詢中加入 SELECT 的語法。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;title, content, date&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// 執行: SELECT title, content, date FROM mytable</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">如果你是要從資料表選取全部的欄位(*)，你就不需要使用這個函數。當你忽略這個函數，CodeIgniter會假設你要選取所有欄位，自動幫你加入 <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">\*</span></code> 。</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">$builder-&gt;select()</span></code> 的第二個參數是可有可無的。如果你設定為 <code class="docutils literal notranslate"><span class="pre">false</span></code>，CodeIgniter將不會保護你的語法或資料表名稱。
當你需要使用複合選取語法時這很有幫助，因為自動跳脫語法可能會破壞你的語法。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;(SELECT SUM(payments.amount) FROM payments WHERE payments.invoice_id=4) AS amount_paid&#39;</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>$builder-&gt;selectMax()</strong></p>
<p>當你要在查詢使用 <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">MAX(field)</span></code> 時，你可以利用第二個參數為你查詢的結果重新命名。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">selectMax</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>  <span class="c1">// 產生的語法: SELECT MAX(age) as age FROM mytable</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">selectMax</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;member_age&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span> <span class="c1">// 產生的語法: SELECT MAX(age) as member_age FROM mytable</span>
</pre></div>
</div>
<p><strong>$builder-&gt;selectMin()</strong></p>
<p>當你要在查詢使用 「SELECT MIN(field)」。就像 selectMax() 一樣，你可以利用第二個參數為你查詢的結果重新命名。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">selectMin</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span> <span class="c1">// 產生的語法: SELECT MIN(age) as age FROM mytable</span>
</pre></div>
</div>
<p><strong>$builder-&gt;selectAvg()</strong></p>
<p>當你要在查詢使用 「SELECT AVG(field)」。就像 selectMax() 一樣，你可以利用第二個參數為你查詢的結果重新命名。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">selectAvg</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span> <span class="c1">// 產生的語法: SELECT AVG(age) as age FROM mytable</span>
</pre></div>
</div>
<p><strong>$builder-&gt;selectSum()</strong></p>
<p>當你要在查詢使用 <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">SUM(field)</span></code>。就像 <code class="docutils literal notranslate"><span class="pre">selectMax()</span></code> 一樣，你可以利用第二個參數為你查詢的結果重新命名。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">selectSum</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span> <span class="c1">// 產生的語法: SELECT SUM(age) as age FROM mytable</span>
</pre></div>
</div>
<p><strong>$builder-&gt;selectCount()</strong></p>
<p>當你要在查詢使用 <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">COUNT(field)</span></code>。就像 <code class="docutils literal notranslate"><span class="pre">selectMax()</span></code> 一樣，你可以利用第二個參數為你查詢的結果重新命名。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">這個方法與 <code class="docutils literal notranslate"><span class="pre">groupBy()</span></code> 一起使用時非常方便。如果是要計算查詢的筆數，可以參考 <code class="docutils literal notranslate"><span class="pre">countAll()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">countAllResults()</span></code> 。</p>
</div>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">selectCount</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span> <span class="c1">// 產生的語法: SELECT COUNT(age) as age FROM mytable</span>
</pre></div>
</div>
<p><strong>$builder-&gt;from()</strong></p>
<p>在你的查詢中加入 FROM 的語法。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;title, content, date&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>  <span class="c1">// 產生的語法: SELECT title, content, date FROM mytable</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">就像前面所介紹的，FROM 的語法可以在 <code class="docutils literal notranslate"><span class="pre">$db-&gt;table()</span></code> 中加入。額外呼叫 <code class="docutils literal notranslate"><span class="pre">from()</span></code> 只會在你的查詢中增加更多的資料表。</p>
</div>
<p><strong>$builder-&gt;join()</strong></p>
<p>在你的查詢中加入 JOIN 的語法。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">table</span><span class="p">(</span><span class="s1">&#39;blog&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;comments&#39;</span><span class="p">,</span> <span class="s1">&#39;comments.id = blogs.id&#39;</span><span class="p">);</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// 產生的語法:</span>
<span class="c1">// SELECT * FROM blogs JOIN comments ON comments.id = blogs.id</span>
</pre></div>
</div>
<p>如果你需要JOIN多個資料表，就需要呼叫多次函數。</p>
<p>如果你需要指定JOIN的類型，你可以在第三個參數中加入。可以選擇：left、right、outer、inner、left outer或right outer。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;comments&#39;</span><span class="p">,</span> <span class="s1">&#39;comments.id = blogs.id&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">);</span>
<span class="c1">// 產生的語法: LEFT JOIN comments ON comments.id = blogs.id</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id18">尋找特定的資料</a><a class="headerlink" href="#id5" title="本標題的永久連結">¶</a></h2>
<p><strong>$builder-&gt;where()</strong></p>
<p>你可以使用以下四個方法的其中一個來設定查詢的 <strong>WHERE</strong> 條件。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">除了使用自訂字串時，傳送到這個函數的數值都會自動跳脫，來產生安全的查詢。</p>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">$builder-&gt;where()</span></code> accepts an optional third parameter. If you set it to
<code class="docutils literal notranslate"><span class="pre">false</span></code>, CodeIgniter will not try to protect your field or table names.</p>
</div>
<ol class="arabic">
<li><p class="first"><strong>簡單的 key/value 方法：</strong></p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">);</span> <span class="c1">// 產生的語法: WHERE name = &#39;Joe&#39;</span>
</pre></div>
</div>
<p>請注意，= 這個符號將會自動幫你增加。</p>
<p>如果你呼叫多個函數，它將會使用 AND 幫你串接在一起：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nv">$title</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="nv">$status</span><span class="p">);</span>
<span class="c1">// WHERE name = &#39;Joe&#39; AND title = &#39;boss&#39; AND status = &#39;active&#39;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>客製化 key/value 方法：</strong></p>
<blockquote>
<div><p>你可以在第一個參數中包含一個符號來控制你的條件判斷：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name !=&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id &lt;&#39;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">);</span> <span class="c1">// 產生的語法: WHERE name != &#39;Joe&#39; AND id &lt; 45</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>關聯陣列方法：</strong></p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$array</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="nv">$title</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span> <span class="o">=&gt;</span> <span class="nv">$status</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
<span class="c1">// 產生的語法: WHERE name = &#39;Joe&#39; AND title = &#39;boss&#39; AND status = &#39;active&#39;</span>
</pre></div>
</div>
<p>也可以使用以下的方式，增加個別的判斷：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$array</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name !=&#39;</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">,</span> <span class="s1">&#39;id &lt;&#39;</span> <span class="o">=&gt;</span> <span class="nv">$id</span><span class="p">,</span> <span class="s1">&#39;date &gt;&#39;</span> <span class="o">=&gt;</span> <span class="nv">$date</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>自定字串：</strong></p>
<blockquote>
<div><blockquote>
<div><p>你可以手動編寫你的語法。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$where</span> <span class="o">=</span> <span class="s2">&quot;name=&#39;Joe&#39; AND status=&#39;boss&#39; OR status=&#39;active&#39;&quot;</span><span class="p">;</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nv">$where</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>If you are using user-supplied data within the string, you MUST escape the
data manually. Failure to do so could result in SQL injections.</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$name</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="s1">&#39;Joe&#39;</span><span class="p">);</span>
<span class="nv">$where</span> <span class="o">=</span> <span class="s2">&quot;name=</span><span class="si">{</span><span class="nv">$name</span><span class="si">}</span><span class="s2"> AND status=&#39;boss&#39; OR status=&#39;active&#39;&quot;</span><span class="p">;</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nv">$where</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt><strong>子查詢：</strong></dt>
<dd><blockquote class="first">
<div><p>你可以使用匿名函數來建立子查詢。</p>
</div></blockquote>
<div class="last highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;advance_amount &lt;&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">BaseBuilder</span> <span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;MAX(advance_amount)&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id &gt;&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// 產生的語法: WHERE &quot;advance_amount&quot; &lt; (SELECT MAX(advance_amount) FROM &quot;orders&quot; WHERE &quot;id&quot; &gt; 2)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
<p><strong>$builder-&gt;orWhere()</strong></p>
<p>這個函數與上述的功能相同，差別在於多個實體透過 OR 串接在一起。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name !=&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orWhere</span><span class="p">(</span><span class="s1">&#39;id &gt;&#39;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">);</span>  <span class="c1">// 產生的語法: WHERE name != &#39;Joe&#39; OR id &gt; 50</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>$builder-&gt;whereIn()</strong></p>
<p>產生 WHERE 欄位 <code class="docutils literal notranslate"><span class="pre">IN</span> <span class="pre">('item',</span> <span class="pre">'item')</span></code> 的SQL查詢語法，如果合適的話就用AND串接。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Frank&#39;</span><span class="p">,</span> <span class="s1">&#39;Todd&#39;</span><span class="p">,</span> <span class="s1">&#39;James&#39;</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">whereIn</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="nv">$names</span><span class="p">);</span>
<span class="c1">// 產生的語法: WHERE username IN (&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;)</span>
</pre></div>
</div>
</div></blockquote>
<p>你也可以使用子查詢而不是陣列。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">whereIn</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">BaseBuilder</span> <span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;job_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users_jobs&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// 產生的語法: WHERE &quot;id&quot; IN (SELECT &quot;job_id&quot; FROM &quot;users_jobs&quot; WHERE &quot;user_id&quot; = 3)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>$builder-&gt;orWhereIn()</strong></p>
<p>產生 WHERE 欄位 <code class="docutils literal notranslate"><span class="pre">WHERE</span> <span class="pre">field</span> <span class="pre">IN</span> <span class="pre">('item',</span> <span class="pre">'item')</span></code> 的SQL查詢語法，如果合適的話就用OR串接。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Frank&#39;</span><span class="p">,</span> <span class="s1">&#39;Todd&#39;</span><span class="p">,</span> <span class="s1">&#39;James&#39;</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orWhereIn</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="nv">$names</span><span class="p">);</span>
<span class="c1">// 產生的語法: OR username IN (&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;)</span>
</pre></div>
</div>
</div></blockquote>
<p>你也可以使用子查詢而不是陣列。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orWhereIn</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">BaseBuilder</span> <span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;job_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users_jobs&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 產生的語法: OR &quot;id&quot; IN (SELECT &quot;job_id&quot; FROM &quot;users_jobs&quot; WHERE &quot;user_id&quot; = 3)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>$builder-&gt;whereNotIn()</strong></p>
<p>產生 WHERE 欄位 <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">IN</span> <span class="pre">('item',</span> <span class="pre">'item')</span></code> 的SQL查詢語法，如果合適的話就用AND串接。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Frank&#39;</span><span class="p">,</span> <span class="s1">&#39;Todd&#39;</span><span class="p">,</span> <span class="s1">&#39;James&#39;</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">whereNotIn</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="nv">$names</span><span class="p">);</span>
<span class="c1">// 產生的語法: WHERE username NOT IN (&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;)</span>
</pre></div>
</div>
</div></blockquote>
<p>你也可以使用子查詢而不是陣列。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">whereNotIn</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">BaseBuilder</span> <span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;job_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users_jobs&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 產生的語法: WHERE &quot;id&quot; NOT IN (SELECT &quot;job_id&quot; FROM &quot;users_jobs&quot; WHERE &quot;user_id&quot; = 3)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>$builder-&gt;orWhereNotIn()</strong></p>
<p>產生 WHERE 欄位 <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">IN</span> <span class="pre">('item',</span> <span class="pre">'item')</span></code> 的SQL查詢語法，如果合適的話就用OR串接。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Frank&#39;</span><span class="p">,</span> <span class="s1">&#39;Todd&#39;</span><span class="p">,</span> <span class="s1">&#39;James&#39;</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orWhereNotIn</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="nv">$names</span><span class="p">);</span>
<span class="c1">// 產生的語法: OR username NOT IN (&#39;Frank&#39;, &#39;Todd&#39;, &#39;James&#39;)</span>
</pre></div>
</div>
</div></blockquote>
<p>你也可以使用子查詢而不是陣列。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orWhereNotIn</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">BaseBuilder</span> <span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;job_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users_jobs&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 產生的語法: OR &quot;id&quot; NOT IN (SELECT &quot;job_id&quot; FROM &quot;users_jobs&quot; WHERE &quot;user_id&quot; = 3)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id19">尋找相似的資料</a><a class="headerlink" href="#id6" title="本標題的永久連結">¶</a></h2>
<p><strong>$builder-&gt;like()</strong></p>
<p>這個方法可以產生 <strong>LIKE</strong> 語法，方便你搜尋資料。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">傳送到這個函數的數值都會自動跳脫。</p>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">在這個函數的第五個參數傳送 <code class="docutils literal notranslate"><span class="pre">true</span></code> ，可以對所有 <code class="docutils literal notranslate"><span class="pre">like*</span></code> 的方法變體強制執行不區分大小寫的搜尋。這將會使用平台特有的功能，否則將會強制數值轉換成小寫，例如： <code class="docutils literal notranslate"><span class="pre">WHERE</span> <span class="pre">LOWER(column)</span> <span class="pre">LIKE</span> <span class="pre">'%search%'</span></code> 。這可能需要為 <code class="docutils literal notranslate"><span class="pre">LOWER(column)</span></code> 創建索引，而不是 <code class="docutils literal notranslate"><span class="pre">column</span></code> 本身，才會使功能有效地被執行。</p>
</div>
<ol class="arabic">
<li><p class="first"><strong>簡單的 key/value 方法：</strong></p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="c1">// 產生的語法: WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
<p>如果你呼叫多個方法，它們將會用 AND 串接在一起。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="c1">// WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; AND  `body` LIKE &#39;%match% ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
<p>如果你想要控制萬用字元 (%) 放置的位置，可以在第三個參數中選擇。 可以設定的數值有： 『before』 、 『after』 和 『both』 (預設為 『both』 )。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">,</span> <span class="s1">&#39;before&#39;</span><span class="p">);</span>     <span class="c1">// Produces: WHERE `title` LIKE &#39;%match&#39; ESCAPE &#39;!&#39;</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">,</span> <span class="s1">&#39;after&#39;</span><span class="p">);</span>      <span class="c1">// Produces: WHERE `title` LIKE &#39;match%&#39; ESCAPE &#39;!&#39;</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">,</span> <span class="s1">&#39;both&#39;</span><span class="p">);</span>       <span class="c1">// Produces: WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>關聯陣列方法：</strong></p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$array</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="nv">$match</span><span class="p">,</span> <span class="s1">&#39;page1&#39;</span> <span class="o">=&gt;</span> <span class="nv">$match</span><span class="p">,</span> <span class="s1">&#39;page2&#39;</span> <span class="o">=&gt;</span> <span class="nv">$match</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
<span class="c1">// WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; AND  `page1` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; AND  `page2` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p><strong>$builder-&gt;orLike()</strong></p>
<p>這個方法與上述的方法相同，差別在於使用 OR 將多個實體串接在一起。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orLike</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="nv">$match</span><span class="p">);</span>
<span class="c1">// WHERE `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; OR  `body` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
<p><strong>$builder-&gt;notLike()</strong></p>
<p>這個方法與 <code class="docutils literal notranslate"><span class="pre">like()</span></code> 相同，差別在於產生的是 NOT LIKE 的字句。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">notLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>    <span class="c1">// WHERE `title` NOT LIKE &#39;%match% ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
<p><strong>$builder-&gt;orNotLike()</strong></p>
<p>這個方法與 <code class="docutils literal notranslate"><span class="pre">notLike()</span></code> 相同，差別在於使用 OR 將多個實體串接在一起。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orNotLike</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="c1">// WHERE `title` LIKE &#39;%match% OR  `body` NOT LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
<p><strong>$builder-&gt;groupBy()</strong></p>
<p>在你的查詢中加入 GROUP BY 的語法。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">groupBy</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">);</span> <span class="c1">// Produces: GROUP BY title</span>
</pre></div>
</div>
<p>你也可以傳送多個數值的陣列。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">groupBy</span><span class="p">([</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]);</span>  <span class="c1">// 產生的語法: GROUP BY title, date</span>
</pre></div>
</div>
<p><strong>$builder-&gt;distinct()</strong></p>
<p>在你的查詢中加入 「DISTINCT」 語法。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">distinct</span><span class="p">();</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span> <span class="c1">// 產生的語法: SELECT DISTINCT * FROM mytable</span>
</pre></div>
</div>
<p><strong>$builder-&gt;having()</strong></p>
<p>在你的查詢中加入 GROUP BY 的語法。這有傳送一個或兩個參數的使用的方式：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">having</span><span class="p">(</span><span class="s1">&#39;user_id = 45&#39;</span><span class="p">);</span>  <span class="c1">// Produces: HAVING user_id = 45</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">having</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span>  <span class="mi">45</span><span class="p">);</span>  <span class="c1">// Produces: HAVING user_id = 45</span>
</pre></div>
</div>
<p>你也可以傳送多個數值的陣列：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">having</span><span class="p">([</span><span class="s1">&#39;title =&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My Title&#39;</span><span class="p">,</span> <span class="s1">&#39;id &lt;&#39;</span> <span class="o">=&gt;</span> <span class="nv">$id</span><span class="p">]);</span>
<span class="c1">// 產生的語法: HAVING title = &#39;My Title&#39;, id &lt; 45</span>
</pre></div>
</div>
<p>如果你使用的是CodeIgniter會跳脫查詢的資料庫，你可以藉由傳入 FALSE 在第三個參數中來防止跳脫內容。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">having</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span>  <span class="mi">45</span><span class="p">);</span>  <span class="c1">// 產生的語法: HAVING `user_id` = 45 in some databases such as MySQL</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">having</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span>  <span class="mi">45</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>  <span class="c1">// 產生的語法: HAVING user_id = 45</span>
</pre></div>
</div>
<p><strong>$builder-&gt;orHaving()</strong></p>
<p>與 <code class="docutils literal notranslate"><span class="pre">having()</span></code> 相同，只用 「OR」 分開多個字句。</p>
<p><strong>$builder-&gt;havingIn()</strong></p>
<p>產生 HAVING 欄位 <code class="docutils literal notranslate"><span class="pre">IN</span> <span class="pre">('item',</span> <span class="pre">'item')</span></code> 的SQL查詢語法，如果合適的話就用AND串接。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$groups</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingIn</span><span class="p">(</span><span class="s1">&#39;group_id&#39;</span><span class="p">,</span> <span class="nv">$groups</span><span class="p">);</span>
<span class="c1">// 產生的語法: HAVING group_id IN (1, 2, 3)</span>
</pre></div>
</div>
</div></blockquote>
<p>你也可以使用子查詢而不是陣列。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingIn</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">BaseBuilder</span> <span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users_jobs&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;group_id&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// 產生的語法: HAVING &quot;id&quot; IN (SELECT &quot;user_id&quot; FROM &quot;users_jobs&quot; WHERE &quot;group_id&quot; = 3)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>$builder-&gt;orHavingIn()</strong></p>
<p>產生 HAVING 欄位 <code class="docutils literal notranslate"><span class="pre">IN</span> <span class="pre">('item',</span> <span class="pre">'item')</span></code> 的SQL查詢語法，如果合適的話就用OR串接。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$groups</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orHavingIn</span><span class="p">(</span><span class="s1">&#39;group_id&#39;</span><span class="p">,</span> <span class="nv">$groups</span><span class="p">);</span>
<span class="c1">// 產生的語法: OR group_id IN (1, 2, 3)</span>
</pre></div>
</div>
</div></blockquote>
<p>你也可以使用子查詢而不是陣列。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orHavingIn</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">BaseBuilder</span> <span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users_jobs&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;group_id&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 產生的語法: OR &quot;id&quot; IN (SELECT &quot;user_id&quot; FROM &quot;users_jobs&quot; WHERE &quot;group_id&quot; = 3)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>$builder-&gt;havingNotIn()</strong></p>
<p>產生 HAVING 欄位 <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">IN</span> <span class="pre">('item',</span> <span class="pre">'item')</span></code> 的SQL查詢語法，如果合適的話就用AND串接。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$groups</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingNotIn</span><span class="p">(</span><span class="s1">&#39;group_id&#39;</span><span class="p">,</span> <span class="nv">$groups</span><span class="p">);</span>
<span class="c1">// 產生的語法: HAVING group_id NOT IN (1, 2, 3)</span>
</pre></div>
</div>
</div></blockquote>
<p>你也可以使用子查詢而不是陣列。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingNotIn</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">BaseBuilder</span> <span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users_jobs&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;group_id&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 產生的語法: HAVING &quot;id&quot; NOT IN (SELECT &quot;user_id&quot; FROM &quot;users_jobs&quot; WHERE &quot;group_id&quot; = 3)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>$builder-&gt;orHavingNotIn()</strong></p>
<p>產生 HAVING 欄位 <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">IN</span> <span class="pre">('item',</span> <span class="pre">'item')</span></code> 的SQL查詢語法，如果合適的話就用OR串接。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$groups</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingNotIn</span><span class="p">(</span><span class="s1">&#39;group_id&#39;</span><span class="p">,</span> <span class="nv">$groups</span><span class="p">);</span>
<span class="c1">// 產生的語法: OR group_id NOT IN (1, 2, 3)</span>
</pre></div>
</div>
</div></blockquote>
<p>你也可以使用子查詢而不是陣列。</p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orHavingNotIn</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">BaseBuilder</span> <span class="nv">$builder</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users_jobs&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;group_id&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 產生的語法: OR &quot;id&quot; NOT IN (SELECT &quot;user_id&quot; FROM &quot;users_jobs&quot; WHERE &quot;group_id&quot; = 3)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>$builder-&gt;havingLike()</strong></p>
<p>這個方法可以對HAVING產生 <strong>LIKE</strong> 語法，這對你在搜尋上很有幫助。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">傳送到這個函數的數值都會自動跳脫，來產生安全的查詢。</p>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">在這個函數的第五個參數傳送 <code class="docutils literal notranslate"><span class="pre">true</span></code> ，可以對所有 <code class="docutils literal notranslate"><span class="pre">havingLike*</span></code> 的方法變體強制執行不區分大小寫的搜尋。這將會使用平台特有的功能，否則將會強制數值轉換成小寫，例如： <code class="docutils literal notranslate"><span class="pre">HAVING</span> <span class="pre">LOWER(column)</span> <span class="pre">LIKE</span> <span class="pre">'%search%'</span></code> 。這可能需要為 <code class="docutils literal notranslate"><span class="pre">LOWER(column)</span></code> 創建索引，而不是 <code class="docutils literal notranslate"><span class="pre">column</span></code> 本身，才會使功能有效地被執行。</p>
</div>
<ol class="arabic">
<li><p class="first"><strong>簡單的 key/value 方法：</strong></p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="c1">// 產生的語法: HAVING `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
<p>如果你呼叫多個函數，它將會使用 AND 幫你串接在一起：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingLike</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="c1">// HAVING `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; AND  `body` LIKE &#39;%match% ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
<p>如果你想要控制萬用字元 (%) 放置的位置，可以在第三個參數中選擇。 可以設定的數值有： 『before』 、 『after』 和 『both』 (預設為 『both』 )。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">,</span> <span class="s1">&#39;before&#39;</span><span class="p">);</span>       <span class="c1">// 產生的語法: HAVING `title` LIKE &#39;%match&#39; ESCAPE &#39;!&#39;</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">,</span> <span class="s1">&#39;after&#39;</span><span class="p">);</span>        <span class="c1">// 產生的語法: HAVING `title` LIKE &#39;match%&#39; ESCAPE &#39;!&#39;</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">,</span> <span class="s1">&#39;both&#39;</span><span class="p">);</span>         <span class="c1">// 產生的語法: HAVING `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>關聯陣列方法：</strong></p>
<blockquote>
<div><div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$array</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="nv">$match</span><span class="p">,</span> <span class="s1">&#39;page1&#39;</span> <span class="o">=&gt;</span> <span class="nv">$match</span><span class="p">,</span> <span class="s1">&#39;page2&#39;</span> <span class="o">=&gt;</span> <span class="nv">$match</span><span class="p">];</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingLike</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
<span class="c1">// HAVING `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; AND  `page1` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; AND  `page2` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p><strong>$builder-&gt;orHavingLike()</strong></p>
<p>這個方法與上述的方法相同，差別在於使用 OR 將多個實體串接在一起：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orHavingLike</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="nv">$match</span><span class="p">);</span>
<span class="c1">// HAVING `title` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39; OR  `body` LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
<p><strong>$builder-&gt;notHavingLike()</strong></p>
<p>這個方法與 <code class="docutils literal notranslate"><span class="pre">havingLike()</span></code> 相同，差別在於產生的是 NOT LIKE 的字句。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">notHavingLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>      <span class="c1">// HAVING `title` NOT LIKE &#39;%match% ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
<p><strong>$builder-&gt;orNotHavingLike()</strong></p>
<p>這個方法與 <code class="docutils literal notranslate"><span class="pre">notHavingLike()</span></code> 相同，差別在於產生的是 NOT LIKE 的字句。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">havingLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orNotHavingLike</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="c1">// HAVING `title` LIKE &#39;%match% OR  `body` NOT LIKE &#39;%match%&#39; ESCAPE &#39;!&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id20">排序查詢結果</a><a class="headerlink" href="#id7" title="本標題的永久連結">¶</a></h2>
<p><strong>$builder-&gt;orderBy()</strong></p>
<p>讓你使用 ORDER BY 的語法。</p>
<p>第一個參數是你想要排序的欄位名稱。</p>
<p>第二個參數是設定你想要排序的方式。可以使用的數值有： <strong>ASC</strong> 、 <strong>DESC</strong> 和 <strong>RANDOM</strong> 。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC&#39;</span><span class="p">);</span>
<span class="c1">// 產生的語法: ORDER BY `title` DESC</span>
</pre></div>
</div>
<p>你也可以在第一個參數中傳送你想要的字串。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;title DESC, name ASC&#39;</span><span class="p">);</span>
<span class="c1">// 產生的語法: ORDER BY `title` DESC, `name` ASC</span>
</pre></div>
</div>
<p>或者，呼叫多個函數來排序多個欄位。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;ASC&#39;</span><span class="p">);</span>
<span class="c1">// 產生的語法: ORDER BY `title` DESC, `name` ASC</span>
</pre></div>
</div>
<p>如果你使用 <strong>RANDOM</strong> ，則第一個參數將會被忽略，除非你指定一個種子值。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;RANDOM&#39;</span><span class="p">);</span>
<span class="c1">// 產生的語法: ORDER BY RAND()</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="s1">&#39;RANDOM&#39;</span><span class="p">);</span>
<span class="c1">// 產生的語法: ORDER BY RAND(42)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">Oracle 目前沒有支援亂數排序，預設將會使用ASC做排序。</p>
</div>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id21">限制或計算查詢結果</a><a class="headerlink" href="#id8" title="本標題的永久連結">¶</a></h2>
<p><strong>$builder-&gt;limit()</strong></p>
<p>讓你限制查詢所要回傳的結果數量：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>  <span class="c1">// 產生的語法: LIMIT 10</span>
</pre></div>
</div>
<p>第二個參數是設定查詢結果的偏移量。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>  <span class="c1">// Produces: LIMIT 20, 10 (in MySQL. Other databases have slightly different syntax)</span>
</pre></div>
</div>
<p><strong>$builder-&gt;countAllResults()</strong></p>
<p>讓你在特定查詢生成器的查詢中確定數量。它也可以增加其他查詢生成器的判斷函數，像是： <code class="docutils literal notranslate"><span class="pre">where()</span></code> 、 <code class="docutils literal notranslate"><span class="pre">orWhere()</span></code> 、 <code class="docutils literal notranslate"><span class="pre">like()</span></code> 、 <code class="docutils literal notranslate"><span class="pre">orLike()</span></code> 等等。範例如下：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">countAllResults</span><span class="p">();</span>  <span class="c1">// 產生integer結果，如：25。</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;match&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;my_table&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">countAllResults</span><span class="p">();</span>  <span class="c1">// 產生integer結果，如：17。</span>
</pre></div>
</div>
<p>不過這個方法會重置你在 <code class="docutils literal notranslate"><span class="pre">select()</span></code> 中傳送任何欄位值。如果你需要保留它們，你可以在第一個參數中傳送 <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> 。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">countAllResults</span><span class="p">(</span><span class="k">false</span><span class="p">);</span> <span class="c1">// 產生integer結果，如：17。</span>
</pre></div>
</div>
<p><strong>$builder-&gt;countAll()</strong></p>
<p>回傳在特定的資料表中的資料數量。
範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">countAll</span><span class="p">();</span>  <span class="c1">// 產生integer，如：25。</span>
</pre></div>
</div>
<p>與 countAllResult 方法一樣，這個方法會重置你在 <code class="docutils literal notranslate"><span class="pre">select()</span></code> 中傳送任何欄位值。如果你需要保留它們，你可以在第一個參數中傳送 <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> 。</p>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id22">查詢分組</a><a class="headerlink" href="#id9" title="本標題的永久連結">¶</a></h2>
<p>查詢分組可以使用括號在WHERE子句中建立不同的群組。這樣就能在WHERE子句中建立複雜的查詢。支援巢狀的群組。範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;my_table&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">groupStart</span><span class="p">()</span>
        <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">orGroupStart</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">groupEnd</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">groupEnd</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

    <span class="c1">// 產生的語法:</span>
    <span class="c1">// SELECT * FROM (`my_table`) WHERE ( `a` = &#39;a&#39; OR ( `b` = &#39;b&#39; AND `c` = &#39;c&#39; ) ) AND `d` = &#39;d&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">分組需要保持平衡，確保每個 <code class="docutils literal notranslate"><span class="pre">groupStart()</span></code> 都有相對應的 <code class="docutils literal notranslate"><span class="pre">groupEnd()</span></code>。</p>
</div>
<p><strong>$builder-&gt;groupStart()</strong></p>
<p>開始一個新的分組，在查詢的WHERE子句中加入一個左括號。</p>
<p><strong>$builder-&gt;orGroupStart()</strong></p>
<p>開始一個新的分組，在查詢的WHERE子句中加入一個左括號，並在前面加入 『OR』 。</p>
<p><strong>$builder-&gt;notGroupStart()</strong></p>
<p>開始一個新的分組，在查詢的WHERE子句中加入一個左括號，並在前面加入 『NOT』 。</p>
<p><strong>$builder-&gt;orNotGroupStart()</strong></p>
<p>開始一個新的分組，在查詢的WHERE子句中加入一個左括號，並在前面加入 『OR NOT』 。</p>
<p><strong>$builder-&gt;groupEnd()</strong></p>
<p>結束目前的分組，在查詢的WHERE子句中加入一個右括號。</p>
<p><strong>$builder-&gt;groupHavingStart()</strong></p>
<p>開始一個新的分組，在查詢的HAVING子句中加入一個左括號。
Starts a new group by adding an opening parenthesis to the HAVING clause of the query.</p>
<p><strong>$builder-&gt;orGroupHavingStart()</strong></p>
<p>開始一個新的分組，在查詢的HAVING子句中加入一個左括號，並在前面加入 『OR』 。</p>
<p><strong>$builder-&gt;notGroupHavingStart()</strong></p>
<p>開始一個新的分組，在查詢的HAVING子句中加入一個左括號，並在前面加入 『NOT』 。</p>
<p><strong>$builder-&gt;orNotGroupHavingStart()</strong></p>
<p>開始一個新的分組，在查詢的HAVING子句中加入一個左括號，並在前面加入 『OR NOT』 。
Starts a new group by adding an opening parenthesis to the HAVING clause of the query, prefixing it with 『OR NOT』.</p>
<p><strong>$builder-&gt;groupHavingEnd()</strong></p>
<p>結束目前的分組，在查詢的HAVING子句中加入一個右括號。</p>
</div>
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id23">插入資料</a><a class="headerlink" href="#id10" title="本標題的永久連結">¶</a></h2>
<p><strong>$builder-&gt;insert()</strong></p>
<p>根據你提供的資料產生插入的語法，並執行查詢。你也可以傳送 <strong>陣列</strong> 或 <strong>物件</strong> 到函數中。以下是使用陣列的範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My Name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;date&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My date&#39;</span><span class="p">,</span>
<span class="p">];</span>

    <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
    <span class="c1">// 產生的語法: INSERT INTO mytable (title, name, date) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;)</span>
</pre></div>
</div>
<p>第一個參數是傳送的關聯陣列變數。</p>
<p>以下是使用物件的範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span>    <span class="k">class</span> <span class="nc">Myclass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$title</span>   <span class="o">=</span> <span class="s1">&#39;My Title&#39;</span><span class="p">;</span>
    <span class="k">public</span> <span class="nv">$content</span> <span class="o">=</span> <span class="s1">&#39;My Content&#39;</span><span class="p">;</span>
    <span class="k">public</span> <span class="nv">$date</span>    <span class="o">=</span> <span class="s1">&#39;My Date&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$object</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Myclass</span><span class="p">;</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="nv">$object</span><span class="p">);</span>
    <span class="c1">// 產生的語法: INSERT INTO mytable (title, content, date) VALUES (&#39;My Title&#39;, &#39;My Content&#39;, &#39;My Date&#39;)</span>
</pre></div>
</div>
<p>第一個參數是傳送的物件變數。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">傳送到這個函數的數值都會自動跳脫，來產生安全的查詢。</p>
</div>
<p><strong>$builder-&gt;ignore()</strong></p>
<p>根據你提供的資料產生忽略插入的語法，並執行查詢。
因此，如果相同主鍵的數值已經存在，就不會執行插入查詢。
你可以以傳送 <strong>布林</strong> 到這個函數中。
以下是使用上述傳送陣列的範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My Name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;date&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My date&#39;</span><span class="p">,</span>
<span class="p">];</span>

    <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">ignore</span><span class="p">(</span><span class="k">true</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
    <span class="c1">// 產生的語法: INSERT OR IGNORE INTO mytable (title, name, date) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;)</span>
</pre></div>
</div>
<p><strong>$builder-&gt;getCompiledInsert()</strong></p>
<p>像是 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;insert()</span></code> 一樣編譯插入查詢，但並不會 <strong>執行</strong> 查詢。這個方法只會回傳SQL查詢的語法字串。</p>
<p>範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My Name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;date&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My date&#39;</span><span class="p">,</span>
<span class="p">];</span>

    <span class="nv">$sql</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getCompiledInsert</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">);</span>
    <span class="k">echo</span> <span class="nv">$sql</span><span class="p">;</span>

    <span class="c1">// 產生的語法字串: INSERT INTO mytable (`title`, `name`, `date`) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;)</span>
</pre></div>
</div>
<p>第二個參數是設定是否重置查詢生成器的查詢(預設是會重置，就像使用 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;insert()</span></code> 一樣)。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;My Title&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getCompiledInsert</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="c1">// 產生的語法字串: INSERT INTO mytable (`title`) VALUES (&#39;My Title&#39;)</span>

<span class="k">echo</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="s1">&#39;My Content&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getCompiledInsert</span><span class="p">();</span>

<span class="c1">// 產生的語法字串: INSERT INTO mytable (`title`, `content`) VALUES (&#39;My Title&#39;, &#39;My Content&#39;)</span>
</pre></div>
</div>
<p>上述的範例要注意的關鍵是，第二次的查詢並沒有使用 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;from()</span></code> ，也沒有在第一個參數中傳送資料表名稱。
這是因為查詢並沒有使用 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;insert`()</span></code> 來執行，這個查詢會重置值或直接使用 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;resetQuery()</span></code> 來進行重置。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">這個方法不適用在批次插入。</p>
</div>
<p><strong>$builder-&gt;insertBatch()</strong></p>
<p>根據你提供的資料產生插入的語法，並執行查詢。你也可以傳送 <strong>陣列</strong> 或 <strong>物件</strong> 到函數中。以下是使用陣列的範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
        <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My title&#39;</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My Name&#39;</span><span class="p">,</span>
        <span class="s1">&#39;date&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My date&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Another title&#39;</span><span class="p">,</span>
        <span class="s1">&#39;name&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;Another Name&#39;</span><span class="p">,</span>
        <span class="s1">&#39;date&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;Another date&#39;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">];</span>

    <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">insertBatch</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
    <span class="c1">// 產生的語法: INSERT INTO mytable (title, name, date) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;),  (&#39;Another title&#39;, &#39;Another name&#39;, &#39;Another date&#39;)</span>
</pre></div>
</div>
<p>第一個參數是傳送的關聯陣列變數。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">傳送到這個函數的數值都會自動跳脫，來產生安全的查詢。</p>
</div>
</div>
<div class="section" id="id11">
<h2><a class="toc-backref" href="#id24">更新資料</a><a class="headerlink" href="#id11" title="本標題的永久連結">¶</a></h2>
<p><strong>$builder-&gt;replace()</strong></p>
<p>這個方法會執行 REPLACE 的語句，基於標準 SQL 的 DELETE + INSERT 一樣，會使用 <em>PRIMARY</em> 和 <em>UNIQUE</em> 作為判斷的因素。
在我們的範例中，它將會使你減少呼叫  <code class="docutils literal notranslate"><span class="pre">select()</span></code> 、 <code class="docutils literal notranslate"><span class="pre">update()</span></code> 、 <code class="docutils literal notranslate"><span class="pre">delete()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">insert()</span></code> 不同的組合來實現複雜的邏輯。</p>
<p>範例:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My title&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My Name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;date&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My date&#39;</span><span class="p">,</span>
<span class="p">];</span>

    <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">replace</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

    <span class="c1">// 執行的語法: REPLACE INTO mytable (title, name, date) VALUES (&#39;My title&#39;, &#39;My name&#39;, &#39;My date&#39;)</span>
</pre></div>
</div>
<p>在上述的範例中，假設 <em>title</em> 是這個欄位的主鍵，如果 <em>title</em> 有指定 『My title』 這個值，則整個列將會被刪除，並用新的值去替換它。</p>
<p><code class="docutils literal notranslate"><span class="pre">set()</span></code> 這個的用法也會將所有字句自動跳脫，就像是 <code class="docutils literal notranslate"><span class="pre">insert()</span></code> 。</p>
<p><strong>$builder-&gt;set()</strong></p>
<p>這個函數能夠讓你設定插入和更新的值。</p>
<p><strong>它可以直接用於插入和更新函數，而不是傳送一個資料陣列：</strong></p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">();</span>  <span class="c1">// 產生的語法: INSERT INTO mytable (`name`) VALUES (&#39;{$name}&#39;)</span>
</pre></div>
</div>
<p>如果使用多個函數呼叫，它們將會根據你使用的是插入或更新，重新組合成合適的語法：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nv">$title</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="nv">$status</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>set()</strong>  也會接受可有可無的第三個參數 ( <code class="docutils literal notranslate"><span class="pre">$escape</span></code> )，如果它設定為 <code class="docutils literal notranslate"><span class="pre">false</span></code> 它將會避免資料被跳脫。
為了要說差異，以下的範例是使用 <code class="docutils literal notranslate"><span class="pre">set()</span></code> 來做比較，分別是有無使用跳脫參數。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">,</span> <span class="s1">&#39;field+1&#39;</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">();</span> <span class="c1">// gives UPDATE mytable SET field = field+1 WHERE `id` = 2</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">,</span> <span class="s1">&#39;field+1&#39;</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">();</span> <span class="c1">// gives UPDATE `mytable` SET `field` = &#39;field+1&#39; WHERE `id` = 2</span>
</pre></div>
</div>
<p>你也可以在這個函數中傳送一個關聯陣列：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$array</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;name&#39;</span>   <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span>  <span class="o">=&gt;</span> <span class="nv">$title</span><span class="p">,</span>
    <span class="s1">&#39;status&#39;</span> <span class="o">=&gt;</span> <span class="nv">$status</span><span class="p">,</span>
<span class="p">];</span>

    <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
    <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">();</span>
</pre></div>
</div>
<p>或是一個物件</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Myclass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$title</span>   <span class="o">=</span> <span class="s1">&#39;My Title&#39;</span><span class="p">;</span>
    <span class="k">public</span> <span class="nv">$content</span> <span class="o">=</span> <span class="s1">&#39;My Content&#39;</span><span class="p">;</span>
    <span class="k">public</span> <span class="nv">$date</span>    <span class="o">=</span> <span class="s1">&#39;My Date&#39;</span><span class="p">;</span>
<span class="p">}</span>

    <span class="nv">$object</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Myclass</span><span class="p">;</span>
    <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="nv">$object</span><span class="p">);</span>
    <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>$builder-&gt;update()</strong></p>
<p>產生一個更新字串並根據你提供的資料執行查詢。你可以在函數中傳送一個 <strong>陣列</strong> 或 <strong>物件</strong>。
以下是使用陣列的範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="nv">$title</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span>  <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">,</span>
    <span class="s1">&#39;date&#39;</span>  <span class="o">=&gt;</span> <span class="nv">$date</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
<span class="c1">// 產生的語法:</span>
<span class="c1">//</span>
<span class="c1">// UPDATE mytable</span>
<span class="c1">// SET title = &#39;{$title}&#39;, name = &#39;{$name}&#39;, date = &#39;{$date}&#39;</span>
<span class="c1">// WHERE id = $id</span>
</pre></div>
</div>
<p>或者你可以傳送物件：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Myclass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$title</span>   <span class="o">=</span> <span class="s1">&#39;My Title&#39;</span><span class="p">;</span>
    <span class="k">public</span> <span class="nv">$content</span> <span class="o">=</span> <span class="s1">&#39;My Content&#39;</span><span class="p">;</span>
    <span class="k">public</span> <span class="nv">$date</span>    <span class="o">=</span> <span class="s1">&#39;My Date&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$object</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Myclass</span><span class="p">;</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$object</span><span class="p">);</span>
<span class="c1">// 產生的語法:</span>
<span class="c1">//</span>
<span class="c1">// UPDATE `mytable`</span>
<span class="c1">// SET `title` = &#39;{$title}&#39;, `name` = &#39;{$name}&#39;, `date` = &#39;{$date}&#39;</span>
<span class="c1">// WHERE id = `$id`</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">傳送到這個函數的數值都會自動跳脫，來產生安全的查詢。</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">$builder-&gt;where()</span></code> 這個函數，能夠使你設定 WHERE的語法。
你也可以將資料作為字串直接傳送到更新函數裡：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$data</span><span class="p">,</span> <span class="s2">&quot;id = 4&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>或是一個陣列：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$data</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="nv">$id</span><span class="p">]);</span>
</pre></div>
</div>
<p>你也可以在更新時使用 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;set()</span></code> 這個函數來闡述上述的內容。</p>
<p><strong>$builder-&gt;updateBatch()</strong></p>
<p>產生一個更新字串並根據你提供的資料執行查詢。你可以在函數中傳送一個 <strong>陣列</strong> 或 <strong>物件</strong>。
以下是使用陣列的範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
   <span class="p">[</span>
      <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My title&#39;</span> <span class="p">,</span>
      <span class="s1">&#39;name&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My Name 2&#39;</span> <span class="p">,</span>
      <span class="s1">&#39;date&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;My date 2&#39;</span>
   <span class="p">],</span>
   <span class="p">[</span>
      <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Another title&#39;</span> <span class="p">,</span>
      <span class="s1">&#39;name&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;Another Name 2&#39;</span> <span class="p">,</span>
      <span class="s1">&#39;date&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;Another date 2&#39;</span>
   <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">updateBatch</span><span class="p">(</span><span class="nv">$data</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">);</span>

<span class="c1">// 產生的語法：</span>
<span class="c1">// UPDATE `mytable` SET `name` = CASE</span>
<span class="c1">// WHEN `title` = &#39;My title&#39; THEN &#39;My Name 2&#39;</span>
<span class="c1">// WHEN `title` = &#39;Another title&#39; THEN &#39;Another Name 2&#39;</span>
<span class="c1">// ELSE `name` END,</span>
<span class="c1">// `date` = CASE</span>
<span class="c1">// WHEN `title` = &#39;My title&#39; THEN &#39;My date 2&#39;</span>
<span class="c1">// WHEN `title` = &#39;Another title&#39; THEN &#39;Another date 2&#39;</span>
<span class="c1">// ELSE `date` END</span>
<span class="c1">// WHERE `title` IN (&#39;My title&#39;,&#39;Another title&#39;)</span>
</pre></div>
</div>
<p>第一個參數是數值的關聯陣列，第二個參數是 Where 的鍵值。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">傳送到這個函數的數值都會自動跳脫，來產生安全的查詢。</p>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">因為 <code class="docutils literal notranslate"><span class="pre">affectedRows()</span></code> 的工作原理，這個方法不會回傳受影響的列數。你可以使用 <code class="docutils literal notranslate"><span class="pre">updateBatch()</span></code> 來取得受影響的列數。</p>
</div>
<p><strong>$builder-&gt;getCompiledUpdate()</strong></p>
<p>上述的方法與 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;getCompiledInsert()</span></code> 完全一樣，只差在它是產生 UPDATE 的 SQL 字串，而不是 INSERT SQL字串。</p>
<p>可以參考 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;getCompiledInsert()</span></code> ，了解更多的資訊。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">這個方法不適用在批次更新。</p>
</div>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id25">刪除資料</a><a class="headerlink" href="#id12" title="本標題的永久連結">¶</a></h2>
<p><strong>$builder-&gt;delete()</strong></p>
<p>產生刪除的 SQL 字串，並且執行查詢：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">([</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="nv">$id</span><span class="p">]);</span>  <span class="c1">// Produces: // DELETE FROM mytable  // WHERE id = $id</span>
</pre></div>
</div>
<p>第一個參數是 where 的條件。
也可以使用 <code class="docutils literal notranslate"><span class="pre">where()</span></code> 或 <code class="docutils literal notranslate"><span class="pre">or_where()</span></code> 函數來取代你想要的條件判斷。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">);</span>
<span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>

<span class="c1">// 產生的語法:</span>
<span class="c1">// DELETE FROM mytable</span>
<span class="c1">// WHERE id = $id</span>
</pre></div>
</div>
<p>如果你想要刪除資料表裡的所有資料，你可以使用 <code class="docutils literal notranslate"><span class="pre">truncate()</span></code> 或是 <code class="docutils literal notranslate"><span class="pre">emptyTable()</span></code> 這兩個函數。</p>
<p><strong>$builder-&gt;emptyTable()</strong></p>
<p>產生刪除的 SQL 字串，並且執行查詢：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">emptyTable</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">);</span> <span class="c1">// 產生的語法: DELETE FROM mytable</span>
</pre></div>
</div>
<p><strong>$builder-&gt;truncate()</strong></p>
<p>產生截斷的 SQL 字串，並且執行查詢：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">();</span>

<span class="c1">// 產生的語法:</span>
<span class="c1">// TRUNCATE mytable</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">如果 TRUNCATE 不能使用，<code class="docutils literal notranslate"><span class="pre">truncate()</span></code> 將會執行 <code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">FROM</span> <span class="pre">table</span></code>。</p>
</div>
<p><strong>$builder-&gt;getCompiledDelete()</strong></p>
<p>這個方法與 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;getCompiledInsert()</span></code>  相同，差別在於產生的是 DELETE 的 SQL 字串，而不是 INSERT 的 SQL 字串。</p>
<p>可以參考 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;getCompiledInsert()</span></code>，了解更多的資訊。</p>
</div>
<div class="section" id="id13">
<h2><a class="toc-backref" href="#id26">鏈式方法</a><a class="headerlink" href="#id13" title="本標題的永久連結">¶</a></h2>
<p>鏈式方法藉由結合多個函數，簡化你的語法。</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
                 <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="nv">$id</span><span class="p">)</span>
                 <span class="o">-&gt;</span><span class="na">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
                 <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="ar-caching">
<span id="id14"></span><h2><a class="toc-backref" href="#id27">重置查詢生成器</a><a class="headerlink" href="#ar-caching" title="本標題的永久連結">¶</a></h2>
<p><strong>$builder-&gt;resetQuery()</strong></p>
<p>重置查詢生成器可以讓你重新開始查詢，而不需要先執行 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;get()</span></code> 或是 <code class="docutils literal notranslate"><span class="pre">$builder-&gt;insert()</span></code> 這樣的方法來執行查詢 。</p>
<p>這在使用查詢生成器產生 SQL (例如： <code class="docutils literal notranslate"><span class="pre">$builder-&gt;getCompiledSelect()</span></code> ) 但是選擇它很有用，可以參考以下範例：</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="c1">// 請注意 get_compiled_select() 的第二個參數是 FALSE</span>
<span class="nv">$sql</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">([</span><span class="s1">&#39;field1&#39;</span><span class="p">,</span><span class="s1">&#39;field2&#39;</span><span class="p">])</span>
               <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;field3&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
               <span class="o">-&gt;</span><span class="na">getCompiledSelect</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>

<span class="c1">// ...</span>
<span class="c1">// 在 SQL 中做一些瘋狂的事情，像是將 SQL 添加到 cron 的腳本中為了之後的執行之類的事情。</span>
<span class="c1">// ...</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getResultArray</span><span class="p">();</span>

<span class="c1">// 將會執行以下的查詢，並回傳一個陣列的結果：</span>
<span class="c1">// SELECT field1, field1 from mytable where field3 = 5;</span>
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h2><a class="toc-backref" href="#id28">類別參考</a><a class="headerlink" href="#id15" title="本標題的永久連結">¶</a></h2>
<dl class="class">
<dt>
<code class="descname">CodeIgniter\Database\BaseBuilder</code></dt>
<dd><blockquote>
<div><dl class="method">
<dt id="db">
<code class="descname">db</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#db" title="本定義的永久連結">¶</a></dt>
<dd></dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">returns:</th><td class="field-body">The database connection in use</td>
</tr>
<tr class="field-even field"><th class="field-name">rtype:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">ConnectionInterface</span></code></td>
</tr>
</tbody>
</table>
<p>Returns the current database connection from <code class="docutils literal notranslate"><span class="pre">$db</span></code>. Useful for
accessing <code class="docutils literal notranslate"><span class="pre">ConnectionInterface</span></code> methods that are not directly
available to the Query Builder, like <code class="docutils literal notranslate"><span class="pre">insertID()</span></code> or <code class="docutils literal notranslate"><span class="pre">errors()</span></code>.</p>
<dl class="method">
<dt id="resetQuery">
<code class="descname">resetQuery</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#resetQuery" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></td>
</tr>
</tbody>
</table>
<p>重置目前查詢生成器的狀態。當你想要建立一個可以在特定條件下取消的查詢是很有用的。</p>
</dd></dl>

<dl class="method">
<dt id="countAllResults">
<code class="descname">countAllResults</code><span class="sig-paren">(</span><span class="optional">[</span><em>$reset = TRUE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#countAllResults" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$reset</strong> (<em>bool</em>) – 是否重置 SELECT 的值</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">查詢結果中列的數量</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<p>產生特定於平台的查詢字串，用來計算查詢生成器回傳所有紀錄的數量。</p>
</dd></dl>

<dl class="method">
<dt id="countAll">
<code class="descname">countAll</code><span class="sig-paren">(</span><span class="optional">[</span><em>$reset = TRUE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#countAll" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$reset</strong> (<em>bool</em>) – 是否重置 SELECT 的值</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">查詢結果中列的數量</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<p>產生特定於平台的查詢字串，用來計算查詢生成器回傳所有紀錄的數量。</p>
</dd></dl>

<dl class="method">
<dt id="get">
<code class="descname">get</code><span class="sig-paren">(</span><em>[$limit = NULL[, $offset = NULL[, $reset = TRUE]]]]</em><span class="sig-paren">)</span><a class="headerlink" href="#get" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$limit</strong> (<em>int</em>) – LIMIT 限制量</li>
<li><strong>$offset</strong> (<em>int</em>) – OFFSET 位移量</li>
<li><strong>$reset</strong> (<em>bool</em>) – 是否要清除查詢生成器的值？</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">\CodeIgniter\Database\ResultInterface</span></code> 實體 (鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">\CodeIgniter\Database\ResultInterface</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>根據已經呼叫的查詢生成器方法，編譯和執行 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 的語句。</p>
</dd></dl>

<dl class="method">
<dt id="getWhere">
<code class="descname">getWhere</code><span class="sig-paren">(</span><em>[$where = NULL[, $limit = NULL[, $offset = NULL[, $reset = TRUE]]]]]</em><span class="sig-paren">)</span><a class="headerlink" href="#getWhere" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$where</strong> (<em>string</em>) – WHERE 條件</li>
<li><strong>$limit</strong> (<em>int</em>) – LIMIT 限制量</li>
<li><strong>$offset</strong> (<em>int</em>) – OFFSET 位移量</li>
<li><strong>$reset</strong> (<em>bool</em>) – 是否要清除查詢生成器的值？</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">\CodeIgniter\Database\ResultInterface</span></code> 實體 (method chaining)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">\CodeIgniter\Database\ResultInterface</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>跟 <code class="docutils literal notranslate"><span class="pre">get()</span></code> 一樣, 但是也允許直接加入 WHERE 條件判斷。</p>
</dd></dl>

<dl class="method">
<dt id="select">
<code class="descname">select</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = '*'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#select" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) – 查詢的 SELECT</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 語法。</p>
</dd></dl>

<dl class="method">
<dt id="selectAvg">
<code class="descname">selectAvg</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = ''</em><span class="optional">[</span>, <em>$alias = ''</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#selectAvg" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) – 計算平均值的欄位</li>
<li><strong>$alias</strong> (<em>string</em>) – 為計算平均值的欄位重新取名的名稱</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">AVG(欄位)</span></code> 語法。</p>
</dd></dl>

<dl class="method">
<dt id="selectMax">
<code class="descname">selectMax</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = ''</em><span class="optional">[</span>, <em>$alias = ''</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#selectMax" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) – 計算最大值的欄位</li>
<li><strong>$alias</strong> (<em>string</em>) – 為計算最大值的欄位重新取名的名稱</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">MAX(欄位)</span></code> 語法。</p>
</dd></dl>

<dl class="method">
<dt id="selectMin">
<code class="descname">selectMin</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = ''</em><span class="optional">[</span>, <em>$alias = ''</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#selectMin" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) – 計算最小值的欄位</li>
<li><strong>$alias</strong> (<em>string</em>) – 為計算最小值的欄位重新取名的名稱</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">MIN(欄位)</span></code> 語法。</p>
</dd></dl>

<dl class="method">
<dt id="selectSum">
<code class="descname">selectSum</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = ''</em><span class="optional">[</span>, <em>$alias = ''</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#selectSum" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) – 計算總和的欄位</li>
<li><strong>$alias</strong> (<em>string</em>) – 為計算總和的欄位重新取名的名稱</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">SUM(欄位)</span></code> 語法。</p>
</dd></dl>

<dl class="method">
<dt id="selectCount">
<code class="descname">selectCount</code><span class="sig-paren">(</span><span class="optional">[</span><em>$select = ''</em><span class="optional">[</span>, <em>$alias = ''</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#selectCount" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$select</strong> (<em>string</em>) – 計算數量的欄位</li>
<li><strong>$alias</strong> (<em>string</em>) – 為計算數量的欄位重新取名的名稱</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">COUNT(欄位)</span></code> 語法。</p>
</dd></dl>

<dl class="method">
<dt id="distinct">
<code class="descname">distinct</code><span class="sig-paren">(</span><span class="optional">[</span><em>$val = TRUE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#distinct" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$val</strong> (<em>bool</em>) – 是否使用 distinct</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>設立一個標記告訴查詢生成器在 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 中加入 <code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code> 的語法。</p>
</dd></dl>

<dl class="method">
<dt id="from">
<code class="descname">from</code><span class="sig-paren">(</span><em>$from</em><span class="optional">[</span>, <em>$overwrite = FALSE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#from" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$from</strong> (<em>mixed</em>) – 資料表名稱；字串或陣列</li>
<li><strong>$overwrite</strong> (<em>bool</em>) – 是否要移除現有的第一個資料表？</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>指定查詢的 <code class="docutils literal notranslate"><span class="pre">FROM</span></code> 語法。</p>
</dd></dl>

<dl class="method">
<dt id="join">
<code class="descname">join</code><span class="sig-paren">(</span><em>$table</em>, <em>$cond</em><span class="optional">[</span>, <em>$type = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#join" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$table</strong> (<em>string</em>) – 要 JOIN 的資料表名稱</li>
<li><strong>$cond</strong> (<em>string</em>) – JOIN ON 的條件</li>
<li><strong>$type</strong> (<em>string</em>) – JOIN 的類型</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>Adds a JOIN clause to a query.</p>
</dd></dl>

<dl class="method">
<dt id="where">
<code class="descname">where</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#where" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – 要做判斷的欄位名稱或關聯陣列</li>
<li><strong>$value</strong> (<em>mixed</em>) – 如果只有一個欄位，判斷它的數值</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生查詢的 <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> 語法。呼叫多次函式會使用 <code class="docutils literal notranslate"><span class="pre">AND</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orWhere">
<code class="descname">orWhere</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orWhere" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – 要做判斷的欄位名稱或關聯陣列</li>
<li><strong>$value</strong> (<em>mixed</em>) – 如果只有一個欄位，判斷它的數值</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生查詢的 <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> 語法。呼叫多次函式會使用 <code class="docutils literal notranslate"><span class="pre">OR</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orWhereIn">
<code class="descname">orWhereIn</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orWhereIn" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – 要搜尋的欄位</li>
<li><strong>$values</strong> (<em>array|Closure</em>) – 要被查詢的數值陣列，或是子查詢的匿名函式</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生 <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> 欄位 <code class="docutils literal notranslate"><span class="pre">IN('項目',</span> <span class="pre">'項目')</span></code> 的 SQL 查詢語法。如果合適則使用 <code class="docutils literal notranslate"><span class="pre">OR</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orWhereNotIn">
<code class="descname">orWhereNotIn</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orWhereNotIn" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – 要搜尋的欄位</li>
<li><strong>$values</strong> (<em>array|Closure</em>) – 要被查詢的數值陣列，或是子查詢的匿名函式</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生 <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> 欄位 <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">IN('項目',</span> <span class="pre">'項目')</span></code> 的 SQL 查詢語法。如果合適則使用 <code class="docutils literal notranslate"><span class="pre">OR</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="whereIn">
<code class="descname">whereIn</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#whereIn" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – 要檢查的欄位名稱</li>
<li><strong>$values</strong> (<em>array|Closure</em>) – 要被查詢的數值陣列，或是子查詢的匿名函式</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生 <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> 欄位 <code class="docutils literal notranslate"><span class="pre">IN('項目'</span> <span class="pre">,</span> <span class="pre">'項目')</span></code> 的 SQL 查詢語法。如果合適則使用 <code class="docutils literal notranslate"><span class="pre">AND</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="whereNotIn">
<code class="descname">whereNotIn</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#whereNotIn" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – 要檢查的欄位名稱</li>
<li><strong>$values</strong> (<em>array|Closure</em>) – 要被查詢的數值陣列，或是子查詢的匿名函式</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生 <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> 欄位 <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">IN('項目',</span> <span class="pre">'項目')</span></code> 的 SQL 查詢語法。如果合適則使用 <code class="docutils literal notranslate"><span class="pre">AND</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="groupStart">
<code class="descname">groupStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#groupStart" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></td>
</tr>
</tbody>
</table>
<p>開始一個分組的語法，在判斷式中使用 <code class="docutils literal notranslate"><span class="pre">AND</span></code> 。</p>
</dd></dl>

<dl class="method">
<dt id="orGroupStart">
<code class="descname">orGroupStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orGroupStart" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></td>
</tr>
</tbody>
</table>
<p>開始一個分組的語法，在判斷式中使用 <code class="docutils literal notranslate"><span class="pre">OR</span></code> 。</p>
</dd></dl>

<dl class="method">
<dt id="notGroupStart">
<code class="descname">notGroupStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#notGroupStart" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></td>
</tr>
</tbody>
</table>
<p>開始一個分組的語法，在判斷式中使用 <code class="docutils literal notranslate"><span class="pre">AND</span> <span class="pre">NOT</span></code> 。</p>
</dd></dl>

<dl class="method">
<dt id="orNotGroupStart">
<code class="descname">orNotGroupStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orNotGroupStart" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></td>
</tr>
</tbody>
</table>
<p>開始一個分組的語法，在判斷式中使用 <code class="docutils literal notranslate"><span class="pre">OR</span> <span class="pre">NOT</span></code> 。</p>
</dd></dl>

<dl class="method">
<dt id="groupEnd">
<code class="descname">groupEnd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#groupEnd" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body">BaseBuilder 實體</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></td>
</tr>
</tbody>
</table>
<p>結束一個分組</p>
</dd></dl>

<dl class="method">
<dt id="like">
<code class="descname">like</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$insensitiveSearch = FALSE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#like" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) – 欄位名稱</li>
<li><strong>$match</strong> (<em>string</em>) – 要做匹配的文字</li>
<li><strong>$side</strong> (<em>string</em>) – 在判斷式的哪一邊加入萬用字元 『%』</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
<li><strong>$insensitiveSearch</strong> (<em>bool</em>) – 是否使用不分大小寫的搜尋</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 <code class="docutils literal notranslate"><span class="pre">LIKE</span></code> 的語法，呼叫多次函式會使用 <code class="docutils literal notranslate"><span class="pre">AND</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orLike">
<code class="descname">orLike</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$insensitiveSearch = FALSE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orLike" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) – 欄位名稱</li>
<li><strong>$match</strong> (<em>string</em>) – 要做匹配的文字</li>
<li><strong>$side</strong> (<em>string</em>) – 在判斷式的哪一邊加入萬用字元 『%』</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
<li><strong>$insensitiveSearch</strong> (<em>bool</em>) – 是否使用不分大小寫的搜尋</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 <code class="docutils literal notranslate"><span class="pre">LIKE</span></code> 的語法，呼叫多次函式會使用 <code class="docutils literal notranslate"><span class="pre">OR</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="notLike">
<code class="descname">notLike</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$insensitiveSearch = FALSE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#notLike" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) – 欄位名稱</li>
<li><strong>$match</strong> (<em>string</em>) – 要做匹配的文字</li>
<li><strong>$side</strong> (<em>string</em>) – 在判斷式的哪一邊加入萬用字元 『%』</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
<li><strong>$insensitiveSearch</strong> (<em>bool</em>) – 是否使用不分大小寫的搜尋</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">LIKE</span></code> 的語法，呼叫多次函式會使用 <code class="docutils literal notranslate"><span class="pre">AND</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orNotLike">
<code class="descname">orNotLike</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$insensitiveSearch = FALSE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orNotLike" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) – 欄位名稱</li>
<li><strong>$match</strong> (<em>string</em>) – 要做匹配的文字</li>
<li><strong>$side</strong> (<em>string</em>) – 在判斷式的哪一邊加入萬用字元 『%』</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
<li><strong>$insensitiveSearch</strong> (<em>bool</em>) – 是否使用不分大小寫的搜尋</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 NOT LIKE 的語法，呼叫多次函式會使用  <code class="docutils literal notranslate"><span class="pre">OR</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="having">
<code class="descname">having</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#having" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – 欄位/數值的識別符號(字串)或關聯陣列的組合</li>
<li><strong>$value</strong> (<em>string</em>) – 如果 $key 為識別符號，則代表要尋找的數值</li>
<li><strong>$escape</strong> (<em>string</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 HAVING 的語法，呼叫多次函式會使用 AND 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orHaving">
<code class="descname">orHaving</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orHaving" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – 欄位/數值的識別符號(字串)或關聯陣列的組合</li>
<li><strong>$value</strong> (<em>string</em>) – 如果 $key 為識別符號，則代表要尋找的數值</li>
<li><strong>$escape</strong> (<em>string</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 HAVING 的語法，呼叫多次函式會使用 OR 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orHavingIn">
<code class="descname">orHavingIn</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orHavingIn" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – 要搜尋的欄位</li>
<li><strong>$values</strong> (<em>array|Closure</em>) – 要被查詢的數值陣列，或是子查詢的匿名函式</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生 HAVING 欄位 IN(『項目』, 『項目』) SQL 查詢語法，如果合適則使用 『OR』 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orHavingNotIn">
<code class="descname">orHavingNotIn</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orHavingNotIn" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – 要搜尋的欄位</li>
<li><strong>$values</strong> (<em>array|Closure</em>) – 要被查詢的數值陣列，或是子查詢的匿名函式</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生 HAVING 欄位 NOT IN(『項目』, 『項目』) SQL 查詢語法，如果合適則使用 『OR』 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="havingIn">
<code class="descname">havingIn</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#havingIn" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – 要搜尋的欄位</li>
<li><strong>$values</strong> (<em>array|Closure</em>) – 要被查詢的數值陣列，或是子查詢的匿名函式</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生 HAVING 欄位 IN(『項目』, 『項目』) SQL 查詢語法，如果合適則使用 『AND』 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="havingNotIn">
<code class="descname">havingNotIn</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">[</span>, <em>$values = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#havingNotIn" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – 要檢查的欄位名稱</li>
<li><strong>$values</strong> (<em>array|Closure</em>) – 要被查詢的數值陣列，或是子查詢的匿名函式</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
<li><strong>$insensitiveSearch</strong> (<em>bool</em>) – 是否使用不分大小寫的搜尋</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">BaseBuilder 實體</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></p>
</td>
</tr>
</tbody>
</table>
<p>產生 HAVING 欄位 NOT IN(『項目』, 『項目』) SQL 查詢語法，如果合適則使用 『AND』 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="havingLike">
<code class="descname">havingLike</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$insensitiveSearch = FALSE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#havingLike" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) – 欄位名稱</li>
<li><strong>$match</strong> (<em>string</em>) – 要做匹配的文字</li>
<li><strong>$side</strong> (<em>string</em>) – 在判斷式的哪一邊加入萬用字元 『%』</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
<li><strong>$insensitiveSearch</strong> (<em>bool</em>) – 是否使用不分大小寫的搜尋</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中將 <code class="docutils literal notranslate"><span class="pre">LIKE</span></code> 的語法加入至 <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> 的部分，呼叫多次函式會使用 『AND』 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orHavingLike">
<code class="descname">orHavingLike</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$insensitiveSearch = FALSE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orHavingLike" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) – 欄位名稱</li>
<li><strong>$match</strong> (<em>string</em>) – 要做匹配的文字</li>
<li><strong>$side</strong> (<em>string</em>) – 在判斷式的哪一邊加入萬用字元 『%』</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
<li><strong>$insensitiveSearch</strong> (<em>bool</em>) – 是否使用不分大小寫的搜尋</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中將 <code class="docutils literal notranslate"><span class="pre">LIKE</span></code> 的語法加入至 HAVING 的部分，呼叫多次函式會使用  <code class="docutils literal notranslate"><span class="pre">OR</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="notHavingLike">
<code class="descname">notHavingLike</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$insensitiveSearch = FALSE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#notHavingLike" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) – 欄位名稱</li>
<li><strong>$match</strong> (<em>string</em>) – 要做匹配的文字</li>
<li><strong>$side</strong> (<em>string</em>) – 在判斷式的哪一邊加入萬用字元 『%』</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
<li><strong>$insensitiveSearch</strong> (<em>bool</em>) – 是否使用不分大小寫的搜尋</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中將 NOT LIKE 的語法加入至 HAVING 的部分，呼叫多次函式會使用 『AND』 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="orNotHavingLike">
<code class="descname">orNotHavingLike</code><span class="sig-paren">(</span><em>$field</em><span class="optional">[</span>, <em>$match = ''</em><span class="optional">[</span>, <em>$side = 'both'</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$insensitiveSearch = FALSE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orNotHavingLike" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$field</strong> (<em>string</em>) – 欄位名稱</li>
<li><strong>$match</strong> (<em>string</em>) – 要做匹配的文字</li>
<li><strong>$side</strong> (<em>string</em>) – 在判斷式的哪一邊加入萬用字元 『%』</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中將 NOT LIKE 的語法加入至 HAVING 的部分，呼叫多次函式會使用  <code class="docutils literal notranslate"><span class="pre">OR</span></code> 將SQL語法串接在一起。</p>
</dd></dl>

<dl class="method">
<dt id="havingGroupStart">
<code class="descname">havingGroupStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#havingGroupStart" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></td>
</tr>
</tbody>
</table>
<p>開始一個給 HAVING 的分組的語法，在判斷式中使用 『AND』 。</p>
</dd></dl>

<dl class="method">
<dt id="orHavingGroupStart">
<code class="descname">orHavingGroupStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orHavingGroupStart" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></td>
</tr>
</tbody>
</table>
<p>開始一個給 HAVING 的分組的語法，在判斷式中使用 『OR』 。</p>
</dd></dl>

<dl class="method">
<dt id="notHavingGroupStart">
<code class="descname">notHavingGroupStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#notHavingGroupStart" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></td>
</tr>
</tbody>
</table>
<p>開始一個給 HAVING 的分組的語法，在判斷式中使用 『AND NOT』 。</p>
</dd></dl>

<dl class="method">
<dt id="orNotHavingGroupStart">
<code class="descname">orNotHavingGroupStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orNotHavingGroupStart" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></td>
</tr>
</tbody>
</table>
<p>開始一個給 HAVING 的分組的語法，在判斷式中使用 『OR NOT』 。</p>
</dd></dl>

<dl class="method">
<dt id="havingGroupEnd">
<code class="descname">havingGroupEnd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#havingGroupEnd" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body">BaseBuilder 實體</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body"><a class="reference internal" href="../helpers/html_helper.html#object" title="object">object</a></td>
</tr>
</tbody>
</table>
<p>結束一個給 HAVING 的分組的語法，</p>
</dd></dl>

<dl class="method">
<dt id="groupBy">
<code class="descname">groupBy</code><span class="sig-paren">(</span><em>$by</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#groupBy" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$by</strong> (<em>mixed</em>) – 要做 group by 的欄位；字串或陣列</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 GROUP BY 的語法。</p>
</dd></dl>

<dl class="method">
<dt id="orderBy">
<code class="descname">orderBy</code><span class="sig-paren">(</span><em>$orderby</em><span class="optional">[</span>, <em>$direction = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#orderBy" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$orderby</strong> (<em>string</em>) – 要做 order by 的欄位</li>
<li><strong>$direction</strong> (<em>string</em>) – 要排序的類型 - ASC 、 DESC 或 隨機</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 ORDER BY 的語法。</p>
</dd></dl>

<dl class="method">
<dt id="limit">
<code class="descname">limit</code><span class="sig-paren">(</span><em>$value</em><span class="optional">[</span>, <em>$offset = 0</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#limit" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$value</strong> (<em>int</em>) – 要限制結果列數的數量</li>
<li><strong>$offset</strong> (<em>int</em>) – 要忽略列數的數量</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 LIMIT 和 OFFSET 的語法。</p>
</dd></dl>

<dl class="method">
<dt id="offset">
<code class="descname">offset</code><span class="sig-paren">(</span><em>$offset</em><span class="sig-paren">)</span><a class="headerlink" href="#offset" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$offset</strong> (<em>int</em>) – 要忽略列數的數量</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>在查詢中加入 OFFSET 的語法。</p>
</dd></dl>

<dl class="method">
<dt id="set">
<code class="descname">set</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#set" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – 欄位名稱或欄位/值的陣列</li>
<li><strong>$value</strong> (<em>string</em>) – 如果 $key 為單一欄位，則代表欄位的數值</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>加入欄位/數值的組合，之後再傳遞給 <code class="docutils literal notranslate"><span class="pre">insert()</span></code> 、 <code class="docutils literal notranslate"><span class="pre">update()</span></code> 或 <code class="docutils literal notranslate"><span class="pre">replace()</span></code> 。</p>
</dd></dl>

<dl class="method">
<dt id="insert">
<code class="descname">insert</code><span class="sig-paren">(</span><span class="optional">[</span><em>$set = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#insert" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$set</strong> (<em>array</em>) – 欄位/數值組合的關聯陣列</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">TRUE 代表插入成功，FALSE 則代表插入失敗</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>編譯並執行 INSERT 的語法。</p>
</dd></dl>

<dl class="method">
<dt id="insertBatch">
<code class="descname">insertBatch</code><span class="sig-paren">(</span><span class="optional">[</span><em>$set = NULL</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">[</span>, <em>$batch_size = 100</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#insertBatch" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$set</strong> (<em>array</em>) – 要插入的資料</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
<li><strong>$batch_size</strong> (<em>int</em>) – 一次插入的列數</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">成功插入的數量或回傳 FALSE插入失敗</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>編譯並執行批次的 <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> 語法。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">當你提供超過 <code class="docutils literal notranslate"><span class="pre">$batch_size</span></code> 的資料，將會執行多個 <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> 的查詢，每個查詢最多插入 <code class="docutils literal notranslate"><span class="pre">$batch_size</span></code> 的資料。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="setInsertBatch">
<code class="descname">setInsertBatch</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#setInsertBatch" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – 欄位名稱或欄位/值的陣列</li>
<li><strong>$value</strong> (<em>string</em>) – 如果 $key 為單一欄位，則代表欄位的數值</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>加入欄位/數值的組合，以利稍後使用 <code class="docutils literal notranslate"><span class="pre">insertBatch()</span></code> 的插入。</p>
</dd></dl>

<dl class="method">
<dt id="update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em>$set = NULL</em><span class="optional">[</span>, <em>$where = NULL</em><span class="optional">[</span>, <em>$limit = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#update" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$set</strong> (<em>array</em>) – 欄位/數值組合的關聯陣列</li>
<li><strong>$where</strong> (<em>string</em>) – WHERE 的字句</li>
<li><strong>$limit</strong> (<em>int</em>) – LIMIT 限制量</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">TRUE 代表更新成功，FALSE 則代表更新失敗</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>編譯並執行 UPDATE 的語法。</p>
</dd></dl>

<dl class="method">
<dt id="updateBatch">
<code class="descname">updateBatch</code><span class="sig-paren">(</span><span class="optional">[</span><em>$set = NULL</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">[</span>, <em>$batch_size = 100</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#updateBatch" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$set</strong> (<em>array</em>) – 欄位名稱或欄位/數值組合的關聯陣列</li>
<li><strong>$value</strong> (<em>string</em>) – 如果 $key 為單一欄位，則代表欄位的數值</li>
<li><strong>$batch_size</strong> (<em>int</em>) – 要在單一查詢中要分組的判斷式數量</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">成功更新的數量或回傳 FALSE 代表更新失敗</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>編譯並執行批次的 <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code> 語法。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">當你提供欄位/數值的組合超過 <code class="docutils literal notranslate"><span class="pre">$batch_size</span></code> 的資料，將會執行多個的查詢，每次最多處理 <code class="docutils literal notranslate"><span class="pre">$batch_size</span></code> 的欄位/數值組合。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="setUpdateBatch">
<code class="descname">setUpdateBatch</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$value = ''</em><span class="optional">[</span>, <em>$escape = NULL</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#setUpdateBatch" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – 欄位名稱或欄位/值的陣列</li>
<li><strong>$value</strong> (<em>string</em>) – 如果 $key 為單一欄位，則代表欄位的數值</li>
<li><strong>$escape</strong> (<em>bool</em>) – 是否要跳脫數值或識別符號</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>加入欄位/數值的組合，以利稍後使用 <code class="docutils literal notranslate"><span class="pre">updateBatch()</span></code> 的更新。</p>
</dd></dl>

<dl class="method">
<dt id="replace">
<code class="descname">replace</code><span class="sig-paren">(</span><span class="optional">[</span><em>$set = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#replace" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$set</strong> (<em>array</em>) – 欄位/數值組合的關聯陣列</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">TRUE 代表執行成功, FALSE 代表執行失敗</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>編譯並執行 REPLACE 的語法。</p>
</dd></dl>

<dl class="method">
<dt id="delete">
<code class="descname">delete</code><span class="sig-paren">(</span><span class="optional">[</span><em>$where = ''</em><span class="optional">[</span>, <em>$limit = NULL</em><span class="optional">[</span>, <em>$reset_data = TRUE</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#delete" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$where</strong> (<em>string</em>) – WHERE 條件</li>
<li><strong>$limit</strong> (<em>int</em>) – LIMIT 限制量</li>
<li><strong>$reset_data</strong> (<em>bool</em>) – TRUE 代表重置查詢中 「寫入」 的語法</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">BaseBuilder</span></code> 實體(鏈式方法) 或 FALSE 代表執行失敗</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>編譯並執行 DELETE 的查詢。</p>
</dd></dl>

</div></blockquote>
<dl class="method">
<dt id="increment">
<code class="descname">increment</code><span class="sig-paren">(</span><em>$column</em><span class="optional">[</span>, <em>$value = 1</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#increment" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first last simple">
<li><strong>$column</strong> (<em>string</em>) – 要遞增的欄位名稱</li>
<li><strong>$value</strong> (<em>int</em>) – 要遞增的數量</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>將欄位的值增加指定的數量。如果欄位的類型不是數字，如 VARCHAR ，則很有可能被替換成 $value 。</p>
</dd></dl>

<dl class="method">
<dt id="decrement">
<code class="descname">decrement</code><span class="sig-paren">(</span><em>$column</em><span class="optional">[</span>, <em>$value = 1</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#decrement" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first last simple">
<li><strong>$column</strong> (<em>string</em>) – 要遞減的欄位名稱</li>
<li><strong>$value</strong> (<em>int</em>) – 要遞減的數量</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>將欄位的值減少指定的數量。如果欄位的類型不是數字，如 VARCHAR ，則很有可能被替換成 $value 。</p>
<dl class="method">
<dt id="truncate">
<code class="descname">truncate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#truncate" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body">TRUE 代表執行成功， FALSE 代表執行失敗</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>對資料表執行 TRUNCATE 的語法。</p>
<div class="admonition note">
<p class="first admonition-title">備註</p>
<p class="last">如果資料庫平台沒有支援 TRUNCATE ，將會使用 DELETE 來取代。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="emptyTable">
<code class="descname">emptyTable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#emptyTable" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">傳回:</th><td class="field-body">TTRUE 代表執行成功， FALSE 代表執行失敗</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回型態:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>使用 DELETE 語法刪除所有資料表內的資料</p>
</dd></dl>

<dl class="method">
<dt id="getCompiledSelect">
<code class="descname">getCompiledSelect</code><span class="sig-paren">(</span><span class="optional">[</span><em>$reset = TRUE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#getCompiledSelect" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$reset</strong> (<em>bool</em>) – 是否重置目前查詢生成器的數值</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">將編譯後的 SQL 語法轉成字串類型</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>編譯一個 SELECT 語法，並以字串類型做回傳。</p>
</dd></dl>

<dl class="method">
<dt id="getCompiledInsert">
<code class="descname">getCompiledInsert</code><span class="sig-paren">(</span><span class="optional">[</span><em>$reset = TRUE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#getCompiledInsert" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$reset</strong> (<em>bool</em>) – 是否重置目前查詢生成器的數值</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">將編譯後的 SQL 語法轉成字串類型</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>編譯一個 INSERT 語法，並以字串類型做回傳。</p>
</dd></dl>

<dl class="method">
<dt id="getCompiledUpdate">
<code class="descname">getCompiledUpdate</code><span class="sig-paren">(</span><span class="optional">[</span><em>$reset = TRUE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#getCompiledUpdate" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$reset</strong> (<em>bool</em>) – 是否重置目前查詢生成器的數值</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">將編譯後的 SQL 語法轉成字串類型</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>編譯一個 UPDATE 語法，並以字串類型做回傳。</p>
</dd></dl>

<dl class="method">
<dt id="getCompiledDelete">
<code class="descname">getCompiledDelete</code><span class="sig-paren">(</span><span class="optional">[</span><em>$reset = TRUE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#getCompiledDelete" title="本定義的永久連結">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">參數:</th><td class="field-body"><ul class="first simple">
<li><strong>$reset</strong> (<em>bool</em>) – 是否重置目前查詢生成器的數值</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">傳回:</th><td class="field-body"><p class="first">將編譯後的 SQL 語法轉成字串類型</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">傳回型態:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>編譯一個 DELETE 語法，並以字串類型做回傳。</p>
</dd></dl>

</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="transactions.html" class="btn btn-neutral float-right" title="交易" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="helpers.html" class="btn btn-neutral float-left" title="查詢輔助函數" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2021 CodeIgniter 基金會 | 國立高雄師範大學軟體工程與管理學系 SDPM 實驗室譯製 
      <span class="lastupdated">
        最後更新於 2021年12月03日。
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>